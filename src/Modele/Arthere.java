package Modele;

import java.util.Vector;

public class Arthere {

	boolean presenceAccident;
	int vitesseLimite; //Toujours etre divisible par 4
	int vitesseActuel; //Vitesse est egal a vitesse limite, diviser par 2 si accident, diviser par 2 si congestion
	int longueur; //Pareille pour tous
	String identifiant;
	
	
	Intersection intersectionA;
	Intersection intersectionB;
	Vector<Vehicule> vehicules = new Vector<Vehicule>(); //Changer pour une structure elastique (Vector)
	
	public Arthere(int v, Intersection a, Intersection b){
		this.presenceAccident = false;
		this.vitesseLimite = v;
		this.vitesseActuel = this.vitesseLimite;
		this.longueur = 100;
		this.identifiant = a.identifiant + "-" + b.identifiant;
		
		this.intersectionA = a;
		a.connecterArthere(this);
		this.intersectionB = b;
		b.connecterArthere(this);
	}
	
	/**
	 * Cette méthode permet de connaître l'intersection a de l'arthère
	 * 
	 * @return l'intersection a de l'arthère
	 */
	public Intersection getA() {
		return this.intersectionA;
	}
	
	/**
	 * Cette méthode permet de connaître l'intersection b de l'arthère
	 * 
	 * @return l'intersection b de l'arthère
	 */
	public Intersection getB() {
		return this.intersectionB;
	}
	
	
	/**
	 * Cette méthode permet de connaître la durée pour parcourir l'arthère
	 * 
	 * @return la durée pour parcourir l'arthère
	 */
	public int dureeTraverse(){
		return longueur/vitesseActuel;
	}
	
	public void creerAccident(){
		presenceAccident = true;
		
		//Accidenter deux voitures au hasard
		int aleatoire = (int)((Math.random() * vehicules.size()));
		vehicules.get(aleatoire).accidente = true;
		vehicules.get(aleatoire -1).accidente = true;
	}
}
